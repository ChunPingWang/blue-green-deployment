# 實作計畫：測試腳本與專案文件

**分支**: `002-test-script-readme` | **日期**: 2025-12-04 | **規格書**: [spec.md](./spec.md)
**輸入**: 功能規格書 `/specs/002-test-script-readme/spec.md`

## 摘要

本功能包含兩個主要交付項目：
1. **測試腳本**: 一個 Shell Script，可對 API 閘道發送多次請求，統計並展示藍色服務與綠色服務的流量分配結果
2. **README 文件**: 專案說明文件，包含專案簡介、前置需求、啟動說明、測試說明及架構說明

技術方案採用 Bash Shell Script 搭配 curl 工具，以確保跨平台相容性並降低依賴需求。

## 技術上下文

**語言/版本**: Bash 4.0+（Shell Script）、Markdown（文件）
**主要相依性**: curl（HTTP 請求）、bc（數學計算，可選）
**儲存**: 無（僅命令列輸出）
**測試**: 手動測試 + 整合測試腳本
**目標平台**: Linux/macOS/WSL（任何支援 Bash 的環境）
**專案類型**: 單一專案（工具腳本 + 文件）
**效能目標**: 100 次請求 < 30 秒
**約束條件**: 無外部服務依賴（除了目標 API 閘道）
**規模/範圍**: 單一腳本檔案 + README 文件

## 憲法檢查

*關卡：必須在 Phase 0 研究前通過。Phase 1 設計後重新檢查。*

| 原則 | 狀態 | 備註 |
|------|------|------|
| I. 程式碼品質 | ✅ 通過 | 腳本將遵循命名規範、單一職責、避免重複 |
| II. 測試標準 | ⚠️ 調整 | Shell 腳本不適用 80% 覆蓋率要求，改用整合測試驗證 |
| III. 行為驅動開發 | ✅ 通過 | 規格書已包含 Given/When/Then 驗收情境 |
| IV. 領域驅動設計 | ⚠️ 不適用 | 腳本工具無複雜領域模型 |
| V. SOLID 原則 | ⚠️ 不適用 | Shell 腳本非物件導向 |
| VI. 基礎設施層隔離 | ⚠️ 不適用 | 腳本工具無分層架構需求 |
| VII. 使用者體驗一致性 | ✅ 通過 | 錯誤訊息將清楚且具可操作性 |
| VIII. 效能要求 | ✅ 通過 | 目標 30 秒內完成 100 次請求 |
| IX. 文件語言規範 | ✅ 通過 | README 使用繁體中文撰寫 |

**結論**: 所有適用原則均通過或已說明調整理由。可進入 Phase 0。

## 專案結構

### 文件（本功能）

```text
specs/002-test-script-readme/
├── plan.md              # 本檔案
├── research.md          # Phase 0 輸出
├── data-model.md        # Phase 1 輸出
├── quickstart.md        # Phase 1 輸出
├── contracts/           # Phase 1 輸出（本功能無 API 合約）
└── tasks.md             # Phase 2 輸出（/speckit.tasks 指令）
```

### 原始碼（儲存庫根目錄）

```text
scripts/
└── test-traffic.sh      # 流量測試腳本

README.md                # 專案說明文件（根目錄）
```

**結構決策**: 採用簡化結構。測試腳本放置於 `scripts/` 目錄，README.md 放置於專案根目錄。無需複雜的分層結構，因為這是輔助工具而非核心應用程式。

## 複雜度追蹤

> 無憲法違規需要說明。本功能為簡單的腳本工具，不涉及複雜架構決策。
